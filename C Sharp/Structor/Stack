namespace FlashStorm
{
    public class FStack
    {
        private FSbase[] stack;
        private int length = 0;
        public FStack() {}
        public FStack(FSbase data) 
        {
            stack = new FSbase[] { data };
        }

        public void Push(FSbase data)
        {
            if (stack == null)
            {
                stack = new FSbase[] { data };
                length++;
            }
            else
            {
                if (length == 0)
                {
                    stack = new FSbase[] { data };
                    length++;
                }
                else
                {
                    stack[length - 1].Hidden();
                    FSbase[] temStack = new FSbase[length + 1];
                    Array.Copy(stack, temStack, length);
                    temStack[length] = data;
                    stack = temStack;
                    length++;
                }
            }
            data.Enable();
        }

        public void Pop()
        {
            if (length != 0)
            {
                length--;
                stack[length].Unenable();
                FSbase[] temStack = new FSbase[length];
                Array.Copy(stack, temStack, length);
                stack = temStack;
                Debug.Log(length);
                if (length == 0)
                    return;
                stack[length - 1].Unhidden();
            }
        }

        public FSbase Top()
        {
            return stack[length - 1];
        }

        public bool Empty()
        {
            return (length == 0) ? true : false;
        }

        public int Size()
        {
            return length;
        }

        
    }
}
